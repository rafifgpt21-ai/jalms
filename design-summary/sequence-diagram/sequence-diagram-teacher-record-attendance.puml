@startuml
title Record Attendance Sequence Diagram
autonumber

actor "Teacher" as Teacher
participant "Web Client" as Client
participant "Teacher" as TeacherClass
participant "Attendance" as Attendance
database "Database" as Database

Teacher -> Client: View Class Attendance
activate Client
Client -> TeacherClass: getAttendance(classId, date)
activate TeacherClass
TeacherClass -> Attendance: findMany()
activate Attendance
Attendance --> TeacherClass: Attendance List
deactivate Attendance
TeacherClass --> Client: List
deactivate TeacherClass
Client --> Teacher: Display List
deactivate Client

Teacher -> Client: Mark/Update Attendance
activate Client
Client -> TeacherClass: updateAttendance(studentIds, status)
activate TeacherClass
TeacherClass -> Attendance: updateMany()
activate Attendance
Attendance -> Database: UPDATE Attendance...
activate Database
Database --> Attendance: Success
deactivate Database
Attendance --> TeacherClass: Success
deactivate Attendance
TeacherClass --> Client: Success
Client --> Teacher: Attendance Recorded
deactivate TeacherClass
deactivate Client

@enduml
